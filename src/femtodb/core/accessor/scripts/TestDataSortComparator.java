package femtodb.core.accessor.scripts;import java.io.*;import java.util.*;import femtodb.core.table.data.*;import femtodb.core.accessor.parameter.*;/**  * TestDataSortComparatorクラス<br> * * @author Takahiro Iwase * @license Apache License 2.0  */public class TestDataSortComparator implements Comparator, Serializable{    private String columnName = null;    public TestDataSortComparator(String columnName) {        this.columnName = columnName;    }    /**     * ソート処理用に並び替える     */    public final int compare(Object o1, Object o2){        TableData data1 = (TableData)o1;        TableData data2 = (TableData)o2;        String data1Str = null;        String data2Str = null;        double num1 = 0;        double num2 = 0;        int sRet = 0;        boolean allNull = true;            data1Str = data1.getTableDataTransfer(null).getColumnData(this.columnName);            data2Str = data2.getTableDataTransfer(null).getColumnData(this.columnName);            if (data1Str == null && data2Str == null) {                return 0;            }            allNull = false;            if (data1Str != null && data2Str == null) {                return -1;            }            if (data1Str == null && data2Str != null) {                return 1;            }            // nullチェック            if (data1Str == null || data1Str.trim().equals("")) {                // ASC                return 1;            }            if (data2Str == null || data2Str.trim().equals("")) {                // ASC                return -1;            }            // 同値検証            if (data1Str.equals(data2Str)) return 0;            if((sRet = data1Str.compareTo(data2Str)) != 0){                // ASC                return sRet;            }        return 0;    }}
ここではデータを一括で登録するローダーの説明をします。


TSVファイルを指定することで指定したFemtoDBへデータを登録します
また同時にテーブルを作成することもできます 

利用方法は以下になります.
1.FemtoDBを起動
  $java -server -Xmx2048m -Xms2048m -cp ./:./lib/*:./bin/* femtohttp.server.FemtoHttpServer -tlw true

2.TSVを用意する
 カラム間の区切りをタブ文字としたTSVを用意
  1行目にカラム情報を指定。指定しない場合は自動的に1列名が"column1"、2列目が"column2"といったように"column[数値]"という命名規則でカラムがデータの列分作成される。
  2行目以降がデータ部分となる。文字コードは全てUTF-8固定となる。

 例-カラム指定なし)
  1行目：
  2行目：カラム1のデータその1	カラム2のデータその1	カラム3のデータその1	カラム4のデータその1
  3行目：カラム1のデータその2	カラム2のデータその2	カラム3のデータその2	カラム4のデータその2
  4行目：カラム1のデータその3	カラム2のデータその3	カラム3のデータその3	カラム4のデータその3

 例-カラム指定あり)
  1行目：originalcolumn1	originalcolumn2	originalcolumn3	originalcolumn4
  2行目：カラム1のデータその1	カラム2のデータその1	カラム3のデータその1	カラム4のデータその1
  3行目：カラム1のデータその2	カラム2のデータその2	カラム3のデータその2	カラム4のデータその2
  4行目：カラム1のデータその3	カラム2のデータその3	カラム3のデータその3	カラム4のデータその3

※注意!!
 ダブルコーテーションは登録できません。自動的削除されて登録されます。

3.テーブル名、インデックスカラムを決める
  既にテーブル作成している場合はそのテーブルを利用可能
  検索を行う場合はインデクスを検討


4.実行
 $java -classpath ./:./bin/*:./lib/* femtoloader.loader.FemtoDataLoader /var/tmp/data.tsv testtable 127.0.0.1 8080 "originalcolumn1:equal" "originalcolumn4:text"

  引数説明 
  第1引数：取り込み用のTSVファイルのパス
  第2引数：取り込み対象のテーブル名(テーブルが存在しない場合は自動作成される。存在する場合は追加登録される)
  第3引数：FemtoDBを起動しているサーバのアドレス
  第4引数：FemtoDBを起動しているポート番号
  第5引数以降：作成用検索インデックス
             存在しないテーブルを指定した場合、第4引数以降で検索インデックスを指定出来ます
             指定フォーマットは[カラム名][:][インデックスタイプ]となる
             インデックスタイプは"equal"と"text"があります。

             上記の例では"originalcolumn1:equal"の場合
             カラム名originalcolumn1に完全一致時(" = "条件)インデックスである"equal"を作成している

             また"originalcolumn2:text"の場合
             カラム名originalcolumn2にテキスト検索用(" text "条件)インデックスである"text"を作成している
           以降可変長としていくつでも指定出来る。

 5.実行結果
  実行後実行結果として登録件数が出力されます。
  登録に失敗した場合、全て自動的にRollbackされます。
  テーブルを自動作成した場合はそのテーブルも削除されます。
